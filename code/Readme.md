This contains all the code split into transmitting and receiving systems
